data "oci_core_drgs" "hub"{
 drg_id = local.hub_compartment_id
}

hub_drg_id ={for drg in data.oci_code_drgs.hub.drgs : drg.display_name => drg.id} ["XYZ-IAD-HUB-DRG"]
drg_route_table_id  = {for drg_route_table in data.oci_core_drg_route_tables.hub.drg_route_Tables : drg_route_Table.display_name => drg_route_Table.id } ["Autogenerated Drg Route Table for VCN attachments"]
hub_compartment_id = "ocid1.12345..."



data "oci_core_drg_route_tables" "hub"{
   drg_id = local.hub_drg_id
}



locals{
 subnet_apps_dns_label = anytrue([ local.env_lower == "prod", local.env_lower == "test"]) ? "esliad${local.env_lower}appsu" : "esliad${local.env_lower}appsub"
}

dns_label = local.subnet_apps_dns_label


locals {
 default_app_dns_label = "esliad${local.env_lower}appsub"
 legacy_app_dns_label = "esliad${local.env_lower}appsu"
 subnet_app_dns_label = local.env_lower == "dev" ? local.default_app_dns_label : local.legacy_app_dns_label
}

dns_label = local.subnet_app_dns_label


}

